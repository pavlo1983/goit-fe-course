"use strict";var set=function(e){localStorage.setItem("url-search",JSON.stringify(e))},get=function(){var e=localStorage.getItem("url-search");return e?JSON.parse(e):null},form=document.querySelector(".js-form"),listUrl=document.querySelector(".js-url-list"),input=document.querySelector(".js-form-input"),formButton=document.querySelector(".js-button"),links={linkSave:[]},savedLocal=get(),source=document.querySelector("#bookmark-item").innerHTML.trim(),template=Handlebars.compile(source);function onSubmit(){input.value.match(/^(https?:\/\/)?([\da-zа-яё0-9\.:-]+)\.([a-zа-яё\.]{2,6})([\/\w \.\/_|?!%@=&#:-]*)*\/?$/gi)?(links.linkSave.includes(input.value)?alert("This Url is in list"):(links.linkSave.unshift(input.value),set(links.linkSave)),create(),form.reset()):alert("Invalid Url")}function onDelete(e){var t=e.target;if("BUTTON"===t.nodeName){e.preventDefault();var n=t.parentNode;n.remove();var r=n.querySelector(".link").textContent,l=links.linkSave.filter(function(e){return e!==r});links.linkSave=l,set(l)}}function create(){var e=links.linkSave.reduce(function(e,t){return e+template({link:t})},"");listUrl.innerHTML=e}savedLocal&&(links.linkSave=savedLocal,create()),formButton.addEventListener("click",onSubmit),document.querySelectorAll(".js-delBtn").forEach(function(e){e.addEventListener("click",onDelete)});